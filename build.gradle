apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'

mainClassName = "Main"


repositories {
    mavenCentral()
}

dependencies {
	compile 'com.google.protobuf:protobuf-java:3.3.1'
	compile 'io.netty:netty-all:4.1.14.Final'
	compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'	
	compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
	compile group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.4.12'
	
	runtime files('config/logback.groovy')
}


task asServer(type: JavaExec) {
  classpath sourceSets.main.runtimeClasspath + files('config')
  
  main = "server.Server"
  
}

task asClient(type: JavaExec) {
  classpath sourceSets.main.runtimeClasspath + files('config')
  main = "client.ClientConnector"
  
}
